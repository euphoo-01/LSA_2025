# План работ по адаптации компилятора для языка LSA-2025

1.  **Анализ и подготовка**
    *   [x] Проанализировать существующую кодовую базу.
    *   [x] Создать файл `context.md` для фиксации исходного состояния проекта и ключевых задач.

2.  **Адаптация лексического анализатора (`LexA`, `LT.h`, `FST`)**
    *   [ ] Обновить определения токенов в `LT.h` в соответствии с лексемами LSA-2025.
    *   [ ] Модифицировать или переписать конечные автоматы (FST) в `LexA.cpp`/`LexA.h` для распознавания ключевых слов LSA-2025: `unsigned`, `integer`, `char`, `logic`, `main`, `send`, `if`, `differ`, `because`, `func`.
    *   [ ] Добавить распознавание операторов LSA-2025: `:`, `~`, `++`, `--`.

3.  **Переработка грамматики и синтаксического анализатора (`Rules.h`, `GRB`, `MFST`)**
    *   [ ] Разработать грамматику для языка LSA-2025 в нормальной форме Грейбах (НФГ) на основе спецификации в `specs.md`.
    *   [ ] Полностью переписать правила в `Headers/Rules.h`, чтобы они отражали новую грамматику, включая конструкции `main`, `func`, `because`, `if-differ` и синтаксис выражений.
    *   [ ] Проверить, что синтаксический анализатор (`MFST`) корректно работает с новой грамматикой.

4.  **Адаптация семантического анализатора (`SemA`)**
    *   [ ] Обновить модуль `SemA.cpp` для работы с новыми типами данных: `unsigned integer`, `char`, `logic`.
    *   [ ] Реализовать все семантические правила из `specs.md`: проверка типов в выражениях и присваиваниях, соответствие типов и количества параметров при вызове функций, контроль возвращаемых значений (`send`), проверка областей видимости.

5.  **Адаптация генератора кода (`asmGenerator`)**
    *   [ ] Модифицировать `asmGenerator.cpp` для генерации корректного ассемблерного кода для новых конструкций языка: `because`, `differ`, `send`.
    *   [ ] Обеспечить корректную генерацию кода для новых операторов и типов данных.

6.  **Тестирование**
    *   [ ] Создать файл `test.lsa` с контрольным примером из `specs.md`.
    *   [ ] Собрать и запустить обновленный компилятор на файле `test.lsa`.
    *   [ ] Провести итеративную отладку всех этапов трансляции (лексический, синтаксический, семантический анализ и генерация кода) до достижения корректного результата.
